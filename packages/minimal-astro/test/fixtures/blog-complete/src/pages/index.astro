---
import Layout from '../components/Layout.astro';
import Counter from '../components/Counter.jsx';
import BlogCard from '../components/BlogCard.astro';

// Simulate content collection query
const featuredPosts = [
  {
    title: "Getting Started with Minimal Astro",
    description: "Learn how to build fast, modern websites with our lightweight Astro implementation.",
    publishDate: new Date('2024-01-15'),
    author: "John Doe",
    slug: "first-post",
    tags: ["astro", "web-development", "javascript", "getting-started"]
  }
];
---

<Layout title="Home - Test Blog" description="Welcome to our test blog built with Minimal Astro">
  <section class="hero">
    <div class="hero-content">
      <h1 class="hero-title">Welcome to Test Blog</h1>
      <p class="hero-description">
        A demonstration of Minimal Astro's capabilities including server-side rendering,
        component islands, and content collections.
      </p>
      <img src="/images/hero.jpg" alt="Hero image" class="hero-image" />
    </div>
  </section>

  <section class="features">
    <h2>Interactive Demo</h2>
    <p>This React component demonstrates Islands Architecture - it only loads JavaScript when needed:</p>
    
    <Counter 
      client:load 
      initialCount={0} 
      label="Homepage Counter"
      testId="homepage-counter" 
    />
    
    <div class="features-grid">
      <div class="feature-card">
        <h3>üöÄ Fast Builds</h3>
        <p>Lightning-fast development with Vite and optimized production builds.</p>
      </div>
      
      <div class="feature-card">
        <h3>üèùÔ∏è Islands Architecture</h3>
        <p>Load JavaScript selectively for optimal performance.</p>
      </div>
      
      <div class="feature-card">
        <h3>üìù Content Collections</h3>
        <p>Type-safe content management with schema validation.</p>
      </div>
      
      <div class="feature-card">
        <h3>‚öõÔ∏è Multi-Framework</h3>
        <p>Mix React, Vue, and Svelte components seamlessly.</p>
      </div>
    </div>
  </section>

  <section class="featured-posts">
    <h2>Featured Posts</h2>
    {featuredPosts.map(post => (
      <BlogCard {...post} key={post.slug} />
    ))}
    
    <div class="cta">
      <a href="/blog" class="cta-link">View All Posts ‚Üí</a>
    </div>
  </section>
</Layout>

<style>
  .hero {
    text-align: center;
    padding: 3rem 0;
    background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
    color: white;
    margin-bottom: 3rem;
  }
  
  .hero-content {
    max-width: 800px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  
  .hero-title {
    font-size: 3rem;
    margin-bottom: 1rem;
    font-weight: 700;
  }
  
  .hero-description {
    font-size: 1.25rem;
    margin-bottom: 2rem;
    opacity: 0.9;
    line-height: 1.6;
  }
  
  .hero-image {
    max-width: 100%;
    height: auto;
    border-radius: 12px;
    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
  }
  
  .features {
    max-width: 1200px;
    margin: 0 auto 3rem;
    padding: 0 2rem;
  }
  
  .features h2 {
    text-align: center;
    margin-bottom: 1rem;
    color: #2c3e50;
  }
  
  .features > p {
    text-align: center;
    margin-bottom: 2rem;
    color: #666;
  }
  
  .features-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-top: 2rem;
  }
  
  .feature-card {
    text-align: center;
    padding: 2rem;
    border: 1px solid #e1e1e1;
    border-radius: 12px;
    background: white;
    transition: transform 0.2s ease, box-shadow 0.2s ease;
  }
  
  .feature-card:hover {
    transform: translateY(-4px);
    box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
  }
  
  .feature-card h3 {
    margin-bottom: 1rem;
    color: #2c3e50;
    font-size: 1.25rem;
  }
  
  .featured-posts {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 2rem;
  }
  
  .featured-posts h2 {
    margin-bottom: 2rem;
    color: #2c3e50;
  }
  
  .cta {
    text-align: center;
    margin-top: 2rem;
  }
  
  .cta-link {
    display: inline-block;
    padding: 1rem 2rem;
    background: #3498db;
    color: white;
    text-decoration: none;
    border-radius: 8px;
    font-weight: 500;
    transition: background 0.2s ease;
  }
  
  .cta-link:hover {
    background: #2980b9;
  }
</style>
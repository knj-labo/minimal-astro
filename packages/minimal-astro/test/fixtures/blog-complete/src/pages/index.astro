---
import Layout from '../components/Layout.astro';
import Counter from '../components/Counter.jsx';
import BlogCard from '../components/BlogCard.astro';

// Simulate content collection query
const featuredPosts = [
  {
    title: "Getting Started with Minimal Astro",
    description: "Learn how to build fast, modern websites with our lightweight Astro implementation.",
    publishDate: new Date('2024-01-15'),
    author: "John Doe",
    slug: "first-post",
    tags: ["astro", "web-development", "javascript", "getting-started"]
  }
];
---

<Layout>
  <section style="text-align: center; padding: 3rem 0; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; margin-bottom: 3rem;">
    <div style="max-width: 800px; margin: 0 auto; padding: 0 2rem;">
      <h1 style="font-size: 3rem; margin-bottom: 1rem; font-weight: 700;">Welcome to Test Blog</h1>
      <p style="font-size: 1.25rem; margin-bottom: 2rem; opacity: 0.9; line-height: 1.6;">
        A demonstration of Minimal Astro's capabilities including server-side rendering,
        component islands, and content collections.
      </p>
      <img src="/images/hero.jpg" alt="Hero image" style="max-width: 100%; height: auto; border-radius: 12px;" />
    </div>
  </section>

  <section style="max-width: 1200px; margin: 0 auto 3rem; padding: 0 2rem;">
    <h2 style="text-align: center; margin-bottom: 1rem; color: #2c3e50;">Interactive Demo</h2>
    <p style="text-align: center; margin-bottom: 2rem; color: #666;">This React component demonstrates Islands Architecture - it only loads JavaScript when needed:</p>
    
    <Counter 
      client:load 
      initialCount={0} 
      label="Homepage Counter"
      testId="homepage-counter" 
    />
    
    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 2rem; margin-top: 2rem;">
      <div style="text-align: center; padding: 2rem; border: 1px solid #e1e1e1; border-radius: 12px; background: white;">
        <h3 style="margin-bottom: 1rem; color: #2c3e50; font-size: 1.25rem;">🚀 Fast Builds</h3>
        <p>Lightning-fast development with Vite and optimized production builds.</p>
      </div>
      
      <div style="text-align: center; padding: 2rem; border: 1px solid #e1e1e1; border-radius: 12px; background: white;">
        <h3 style="margin-bottom: 1rem; color: #2c3e50; font-size: 1.25rem;">🏝️ Islands Architecture</h3>
        <p>Load JavaScript selectively for optimal performance.</p>
      </div>
      
      <div style="text-align: center; padding: 2rem; border: 1px solid #e1e1e1; border-radius: 12px; background: white;">
        <h3 style="margin-bottom: 1rem; color: #2c3e50; font-size: 1.25rem;">📝 Content Collections</h3>
        <p>Type-safe content management with schema validation.</p>
      </div>
      
      <div style="text-align: center; padding: 2rem; border: 1px solid #e1e1e1; border-radius: 12px; background: white;">
        <h3 style="margin-bottom: 1rem; color: #2c3e50; font-size: 1.25rem;">⚛️ Multi-Framework</h3>
        <p>Mix React, Vue, and Svelte components seamlessly.</p>
      </div>
    </div>
  </section>

  <section style="max-width: 1200px; margin: 0 auto; padding: 0 2rem;">
    <h2 style="margin-bottom: 2rem; color: #2c3e50;">Featured Posts</h2>
    {featuredPosts.map(post => (
      <BlogCard {...post} key={post.slug} />
    ))}
    
    <div style="text-align: center; margin-top: 2rem;">
      <a href="/blog" style="display: inline-block; padding: 1rem 2rem; background: #3498db; color: white; text-decoration: none; border-radius: 8px; font-weight: 500;">View All Posts →</a>
    </div>
  </section>
</Layout>